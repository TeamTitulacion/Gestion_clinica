<?php
include '../core/ConfigGeneral.php';
$peticionAjax = true;
if (isset($_POST['his']) || (isset($_POST['pac']) && isset($_POST['fecha']) && isset($_POST['med']) && isset($_POST['nhistoria'])) || isset($_POST['Enca']) || isset($_POST['DNIH']) || isset($_POST['ajaxpac']) || (isset($_POST['id']) || isset($_POST['Apellido'])&& isset($_POST['Nombre']) && isset($_POST['Sexo']) && isset($_POST['FechaNa']) && isset($_POST['CI']) && isset($_POST['Sangre']) && isset($_POST['Estado']) && isset($_POST['Dirr']) && isset($_POST['Tele']) && isset($_POST['Corre'])) || (isset($_POST['Estatura']) && isset($_POST['Temp']) && isset($_POST['Pulso']) && isset($_POST['Peso']) && isset($_POST['TenArte']) && isset($_POST['FrecuRespi']) && isset($_POST['NumHist']) && isset($_POST['Motivo']) && isset($_POST['FechaMo']) && isset($_POST['NomAcompa']) && isset($_POST['TeleAcompa']) && isset($_POST['Vih']) && isset($_POST['DiagVIH']) && isset($_POST['FechaVIH']) && isset($_POST['MoConsulta']) && isset($_POST['EnfeActuales']) && isset($_POST['TiposAnte1']) && isset($_POST['TiposAnte2']) && isset($_POST['TiposAnte3'])&& isset($_POST['TiposAnte4'])&& isset($_POST['TiposAnte5'])&& isset($_POST['TiposAnte6'])&& isset($_POST['TiposAnte7']) && isset($_POST['TiposAnte8'])&& isset($_POST['TiposAnte9'])&& isset($_POST['TiposAnte10'])&& isset($_POST['TiposAnte11']) && isset($_POST['TiposAnte12']) && isset($_POST['TiposAnte13'])&& isset($_POST['TiposAnte14'])&& isset($_POST['TiposAnte15'])&& isset($_POST['TiposAnte16'])&& isset($_POST['TiposAnte17']) && isset($_POST['TiposAnte18'])&& isset($_POST['TiposAnte19'])&& isset($_POST['TiposAnte20'])&& isset($_POST['TiposAnte21']) && isset($_POST['en1']) && isset($_POST['en2']) && isset($_POST['en3']) && isset($_POST['en4']) && isset($_POST['en5']) && isset($_POST['en6']) && isset($_POST['en7']) && isset($_POST['en8']) && isset($_POST['en9']) && isset($_POST['en10']) && isset($_POST['en11']) && isset($_POST['en12']) && isset($_POST['en_obs']) && isset($_POST['tn1']) && isset($_POST['tn2']) && isset($_POST['tn3']) && isset($_POST['tn4']) && isset($_POST['tn5']) && isset($_POST['tn6']) && isset($_POST['tn7']) && isset($_POST['tn8']) && isset($_POST['tn9']) && isset($_POST['tn10']) && isset($_POST['tn11']) && isset($_POST['tn12']) && isset($_POST['tn13']) && isset($_POST['t1a']) && isset($_POST['t2a']) && isset($_POST['t3a']) && isset($_POST['t4a']) && isset($_POST['t5a']) && isset($_POST['t6a']) && isset($_POST['t7a']) && isset($_POST['t8a']) && isset($_POST['t9a']) && isset($_POST['t10a']) && isset($_POST['t11a']) && isset($_POST['t12a']) && isset($_POST['t13a']) && isset($_POST['at1']) && isset($_POST['at2']) && isset($_POST['at3']) && isset($_POST['at4']) && isset($_POST['at5']) && isset($_POST['at6']) && isset($_POST['at7']) && isset($_POST['at1a']) && isset($_POST['at2a']) && isset($_POST['at3a']) && isset($_POST['at4a']) && isset($_POST['at5a']) && isset($_POST['at6a']) && isset($_POST['at7a']) && isset($_POST['exa_obs']) && isset($_POST['d1']) && isset($_POST['d2'])&& isset($_POST['d3']) && isset($_POST['d4']) && isset($_POST['d5']) && isset($_POST['d6']) && isset($_POST['d7']) && isset($_POST['d8']) && isset($_POST['d9']) && isset($_POST['d10']) && isset($_POST['d11']) && isset($_POST['d12']) && isset($_POST['d13']) && isset($_POST['d14']) && isset($_POST['d15'])&& isset($_POST['d16']) && isset($_POST['d17']) && isset($_POST['d18']) && isset($_POST['d19']) && isset($_POST['d20']) && isset($_POST['d21']) && isset($_POST['d22']) && isset($_POST['d23']) && isset($_POST['d24']) && isset($_POST['d25']) && isset($_POST['d26']) && isset($_POST['d27']) && isset($_POST['d28']) && isset($_POST['d29']) && isset($_POST['d30']) && isset($_POST['d31']) && isset($_POST['d32']) && isset($_POST['d33']) && isset($_POST['d34']) && isset($_POST['d35']) && isset($_POST['d36']) && isset($_POST['d37']) && isset($_POST['d38']) && isset($_POST['d39']) && isset($_POST['d40']) && isset($_POST['d41']) && isset($_POST['d42']) && isset($_POST['d43']) && isset($_POST['d44']) && isset($_POST['d45']) && isset($_POST['d46']) && isset($_POST['d47']) && isset($_POST['d48']) && isset($_POST['d49']) && isset($_POST['d50']) && isset($_POST['d51']) && isset($_POST['d52']) && isset($_POST['dd1']) && isset($_POST['dd2']) && isset($_POST['dd3']) && isset($_POST['dd4']) && isset($_POST['dd5']) && isset($_POST['dd6']) && isset($_POST['dd7']) && isset($_POST['dd8']) && isset($_POST['dd9']) && isset($_POST['dd10']) && isset($_POST['dd11']) && isset($_POST['dd12']) && isset($_POST['dd13']) && isset($_POST['dd14']) && isset($_POST['dd15']) && isset($_POST['dd16']) && isset($_POST['dd17']) && isset($_POST['dd18']) && isset($_POST['dd19']) && isset($_POST['dd20']) && isset($_POST['dd21']) && isset($_POST['dd22']) && isset($_POST['dd23']) && isset($_POST['dd24']) && isset($_POST['dd25']) && isset($_POST['dd26']) && isset($_POST['dd27']) && isset($_POST['dd28']) && isset($_POST['dd29']) && isset($_POST['dd30']) && isset($_POST['dd31']) && isset($_POST['dd32']) && isset($_POST['dd33']) && isset($_POST['dd34']) && isset($_POST['dd35']) && isset($_POST['dd36']) && isset($_POST['dd37']) && isset($_POST['dd38']) && isset($_POST['dd39']) && isset($_POST['dd40']) && isset($_POST['dd41']) && isset($_POST['dd42']) && isset($_POST['dd43']) && isset($_POST['dd44']) && isset($_POST['dd45']) && isset($_POST['dd46']) && isset($_POST['dd47']) && isset($_POST['dd48']) && isset($_POST['dd49']) && isset($_POST['dd50']) && isset($_POST['dd51']) && isset($_POST['dd52']) && isset($_POST['ha1']) && isset($_POST['ha2']) && isset($_POST['ha3']) && isset($_POST['ha4']) && isset($_POST['ha5']) && isset($_POST['ha6']) && isset($_POST['ha7']) && isset($_POST['ha8']) && isset($_POST['ha9']) && isset($_POST['ha10']) && isset($_POST['ha11']) && isset($_POST['ha12']) && isset($_POST['da1']) && isset($_POST['da2']) && isset($_POST['da3']) && isset($_POST['da4']) && isset($_POST['da5']) && isset($_POST['da6']) && isset($_POST['da7']) && isset($_POST['da8']) && isset($_POST['da9']) && isset($_POST['da10']) && isset($_POST['da11']) && isset($_POST['da12']) && isset($_POST['da13']) && isset($_POST['da14']) && isset($_POST['da15']) && isset($_POST['ptr1']) && isset($_POST['ptr2']) && isset($_POST['ptr3']) && isset($_POST['ptr4']) && isset($_POST['ptr5']) && isset($_POST['ptr6']) && isset($_POST['ptr7'])  )
)
    {
    require_once '../controlador/historia.controlador.php';
    if (isset($_POST['id']) && isset($_POST['Apellido']) && isset($_POST['Nombre']) && isset($_POST['Corre']) && isset($_POST['Sexo']) && isset($_POST['FechaNa']) && isset($_POST['CI']) && isset($_POST['Sangre']) && isset($_POST['Estado']) && isset($_POST['Dirr']) && isset($_POST['Tele'])) {
        $resh = new HistoriaControlador();
        echo $resh->CtrUpdateP();
    }
    if (isset($_POST['Apellido']) && isset($_POST['Nombre']) && isset($_POST['Corre']) && isset($_POST['Sexo']) && isset($_POST['FechaNa']) && isset($_POST['CI']) && isset($_POST['Sangre']) && isset($_POST['Estado']) && isset($_POST['Dirr']) && isset($_POST['Tele'])) {
        $resh = new HistoriaControlador();
        echo $resh->CtrCrearPaciente();
    }
    if (isset($_POST['ajaxpac'])) {
        $resh = new HistoriaControlador();
        echo ($resh->CtrHistoria());
    }
    if (isset($_POST['DNIH'])) {
        $idH = $_POST['DNIH'];
        $resh = new HistoriaControlador();
        echo json_encode($resh->CtrDatosP($idH));
    }
    if (isset($_POST['Enca'])) {
        $resh = new HistoriaControlador();
        echo json_encode($resh->CtrEncabezado());
    }
    if (
        isset($_POST['pac']) && isset($_POST['fecha']) && isset($_POST['med']) &&
        isset($_POST['nhistoria'])
    ) {
        $historia = new HistoriaControlador();
        echo $historia->CtrCrearHistoria();
    }
    if (isset($_POST['his'])) {
        $listar = new HistoriaControlador();
        echo json_encode($listar->CtrlistarHistoria(), JSON_UNESCAPED_UNICODE);
    }
    if (isset($_POST['Estatura']) && isset($_POST['Temp']) && isset($_POST['Pulso']) && isset($_POST['Peso']) && isset($_POST['TenArte']) && isset($_POST['FrecuRespi']) && isset($_POST['NumHist']) && isset($_POST['Motivo']) && isset($_POST['FechaMo']) && isset($_POST['NomAcompa']) && isset($_POST['TeleAcompa']) && isset($_POST['Vih']) && isset($_POST['DiagVIH']) && isset($_POST['FechaVIH']) && isset($_POST['MoConsulta']) && isset($_POST['EnfeActuales'])&& isset($_POST['TiposAnte1']) && isset($_POST['TiposAnte2']) && isset($_POST['TiposAnte3'])&& isset($_POST['TiposAnte4'])&& isset($_POST['TiposAnte5'])&& isset($_POST['TiposAnte6'])&& isset($_POST['TiposAnte7']) && isset($_POST['TiposAnte8'])&& isset($_POST['TiposAnte9'])&& isset($_POST['TiposAnte10'])&& isset($_POST['TiposAnte11']) && isset($_POST['TiposAnte12']) && isset($_POST['TiposAnte13'])&& isset($_POST['TiposAnte14'])&& isset($_POST['TiposAnte15'])&& isset($_POST['TiposAnte16'])&& isset($_POST['TiposAnte17']) && isset($_POST['TiposAnte18'])&& isset($_POST['TiposAnte19'])&& isset($_POST['TiposAnte20'])&& isset($_POST['TiposAnte21']) && isset($_POST['ObservaAntece']) && isset($_POST['en1']) && isset($_POST['en2']) && isset($_POST['en3']) && isset($_POST['en4']) && isset($_POST['en5']) && isset($_POST['en6']) && isset($_POST['en7']) && isset($_POST['en8']) && isset($_POST['en9']) && isset($_POST['en10']) && isset($_POST['en11']) && isset($_POST['en12']) && isset($_POST['en_obs']) && isset($_POST['tn1']) && isset($_POST['tn2']) && isset($_POST['tn3']) && isset($_POST['tn4']) && isset($_POST['tn5']) && isset($_POST['tn6']) && isset($_POST['tn7']) && isset($_POST['tn8']) && isset($_POST['tn9']) && isset($_POST['tn10']) && isset($_POST['tn11']) && isset($_POST['tn12']) && isset($_POST['tn13']) && isset($_POST['t1a']) && isset($_POST['t2a']) && isset($_POST['t3a']) && isset($_POST['t4a']) && isset($_POST['t5a']) && isset($_POST['t6a']) && isset($_POST['t7a']) && isset($_POST['t8a']) && isset($_POST['t9a']) && isset($_POST['t10a']) && isset($_POST['t11a']) && isset($_POST['t12a']) && isset($_POST['t13a']) && isset($_POST['at1']) && isset($_POST['at2']) && isset($_POST['at3']) && isset($_POST['at4']) && isset($_POST['at5']) && isset($_POST['at6']) && isset($_POST['at7']) && isset($_POST['at1a']) && isset($_POST['at2a']) && isset($_POST['at3a']) && isset($_POST['at4a']) && isset($_POST['at5a']) && isset($_POST['at6a']) && isset($_POST['at7a']) && isset($_POST['exa_obs'])&& isset($_POST['d1']) && isset($_POST['d2'])&& isset($_POST['d3']) && isset($_POST['d4']) && isset($_POST['d5']) && isset($_POST['d6']) && isset($_POST['d7']) && isset($_POST['d8']) && isset($_POST['d9']) && isset($_POST['d10']) && isset($_POST['d11']) && isset($_POST['d12']) && isset($_POST['d13']) && isset($_POST['d14']) && isset($_POST['d15'])&& isset($_POST['d16']) && isset($_POST['d17']) && isset($_POST['d18']) && isset($_POST['d19']) && isset($_POST['d20']) && isset($_POST['d21']) && isset($_POST['d22']) && isset($_POST['d23']) && isset($_POST['d24']) && isset($_POST['d25']) && isset($_POST['d26']) && isset($_POST['d27']) && isset($_POST['d28']) && isset($_POST['d29']) && isset($_POST['d30']) && isset($_POST['d31']) && isset($_POST['d32']) && isset($_POST['d33']) && isset($_POST['d34']) && isset($_POST['d35']) && isset($_POST['d36']) && isset($_POST['d37']) && isset($_POST['d38']) && isset($_POST['d39']) && isset($_POST['d40']) && isset($_POST['d41']) && isset($_POST['d42']) && isset($_POST['d43']) && isset($_POST['d44']) && isset($_POST['d45']) && isset($_POST['d46']) && isset($_POST['d47']) && isset($_POST['d48']) && isset($_POST['d49']) && isset($_POST['d50']) && isset($_POST['d51']) && isset($_POST['d52']) && isset($_POST['dd1']) && isset($_POST['dd2']) && isset($_POST['dd3']) && isset($_POST['dd4']) && isset($_POST['dd5']) && isset($_POST['dd6']) && isset($_POST['dd7']) && isset($_POST['dd8']) && isset($_POST['dd9']) && isset($_POST['dd10']) && isset($_POST['dd11']) && isset($_POST['dd12']) && isset($_POST['dd13']) && isset($_POST['dd14']) && isset($_POST['dd15']) && isset($_POST['dd16']) && isset($_POST['dd17']) && isset($_POST['dd18']) && isset($_POST['dd19']) && isset($_POST['dd20']) && isset($_POST['dd21']) && isset($_POST['dd22']) && isset($_POST['dd23']) && isset($_POST['dd24']) && isset($_POST['dd25']) && isset($_POST['dd26']) && isset($_POST['dd27']) && isset($_POST['dd28']) && isset($_POST['dd29']) && isset($_POST['dd30']) && isset($_POST['dd31']) && isset($_POST['dd32']) && isset($_POST['dd33']) && isset($_POST['dd34']) && isset($_POST['dd35']) && isset($_POST['dd36']) && isset($_POST['dd37']) && isset($_POST['dd38']) && isset($_POST['dd39']) && isset($_POST['dd40']) && isset($_POST['dd41']) && isset($_POST['dd42']) && isset($_POST['dd43']) && isset($_POST['dd44']) && isset($_POST['dd45']) && isset($_POST['dd46']) && isset($_POST['dd47']) && isset($_POST['dd48']) && isset($_POST['dd49']) && isset($_POST['dd50']) && isset($_POST['dd51']) && isset($_POST['dd52']) && isset($_POST['ha1']) && isset($_POST['ha2']) && isset($_POST['ha3']) && isset($_POST['ha4']) && isset($_POST['ha5']) && isset($_POST['ha6']) && isset($_POST['ha7']) && isset($_POST['ha8']) && isset($_POST['ha9']) && isset($_POST['ha10']) && isset($_POST['ha11']) && isset($_POST['ha12']) && isset($_POST['da1']) && isset($_POST['da2']) && isset($_POST['da3']) && isset($_POST['da4']) && isset($_POST['da5']) && isset($_POST['da6']) && isset($_POST['da7']) && isset($_POST['da8']) && isset($_POST['da9']) && isset($_POST['da10']) && isset($_POST['da11']) && isset($_POST['da12']) && isset($_POST['da13']) && isset($_POST['da14']) && isset($_POST['da15']) && isset($_POST['ptr1']) && isset($_POST['ptr2']) && isset($_POST['ptr3']) && isset($_POST['ptr4']) && isset($_POST['ptr5']) && isset($_POST['ptr6']) && isset($_POST['ptr7']) ) 
     {
       
        $actualizar = new HistoriaControlador();
        print_r($actualizar->CtrActualizar());
    }
}
